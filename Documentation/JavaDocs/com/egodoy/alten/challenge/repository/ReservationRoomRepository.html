<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.12) on Mon Oct 25 21:31:18 COT 2021 -->
<title>ReservationRoomRepository</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2021-10-25">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../jquery/jquery-3.5.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ReservationRoomRepository";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":6,"i1":6,"i2":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.egodoy.alten.challenge.repository</a></div>
<h2 title="Interface ReservationRoomRepository" class="title">Interface ReservationRoomRepository</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd><code>org.springframework.data.repository.CrudRepository&lt;<a href="../model/ReservationRoom.html" title="class in com.egodoy.alten.challenge.model">ReservationRoom</a>,&#8203;java.lang.Long&gt;</code>, <code>org.springframework.data.jpa.repository.JpaRepository&lt;<a href="../model/ReservationRoom.html" title="class in com.egodoy.alten.challenge.model">ReservationRoom</a>,&#8203;java.lang.Long&gt;</code>, <code>org.springframework.data.repository.PagingAndSortingRepository&lt;<a href="../model/ReservationRoom.html" title="class in com.egodoy.alten.challenge.model">ReservationRoom</a>,&#8203;java.lang.Long&gt;</code>, <code>org.springframework.data.repository.query.QueryByExampleExecutor&lt;<a href="../model/ReservationRoom.html" title="class in com.egodoy.alten.challenge.model">ReservationRoom</a>&gt;</code>, <code>org.springframework.data.repository.Repository&lt;<a href="../model/ReservationRoom.html" title="class in com.egodoy.alten.challenge.model">ReservationRoom</a>,&#8203;java.lang.Long&gt;</code></dd>
</dl>
<hr>
<pre>@Repository
public interface <span class="typeNameLabel">ReservationRoomRepository</span>
extends org.springframework.data.jpa.repository.JpaRepository&lt;<a href="../model/ReservationRoom.html" title="class in com.egodoy.alten.challenge.model">ReservationRoom</a>,&#8203;java.lang.Long&gt;</pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../model/ReservationRoom.html" title="class in com.egodoy.alten.challenge.model">ReservationRoom</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#findByIdAndRoomsAndDates(java.lang.Long,java.lang.Long,java.time.LocalDateTime,java.time.LocalDateTime)">findByIdAndRoomsAndDates</a></span>&#8203;(java.lang.Long&nbsp;rrId,
                        java.lang.Long&nbsp;roomId,
                        java.time.LocalDateTime&nbsp;from,
                        java.time.LocalDateTime&nbsp;to)</code></th>
<td class="colLast">
<div class="block">This query return a list of reservation DTO based on the provided inputs.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>java.util.Optional&lt;<a href="../model/ReservationRoom.html" title="class in com.egodoy.alten.challenge.model">ReservationRoom</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#findByReservationIdAndRoomId(java.util.UUID,java.lang.Long)">findByReservationIdAndRoomId</a></span>&#8203;(java.util.UUID&nbsp;reservation,
                            java.lang.Long&nbsp;roomId)</code></th>
<td class="colLast">
<div class="block">This query return a reservation room if exists based on the inputs.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../model/ReservationRoom.html" title="class in com.egodoy.alten.challenge.model">ReservationRoom</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#findByRoomsAndDates(java.lang.Long,java.time.LocalDateTime,java.time.LocalDateTime)">findByRoomsAndDates</a></span>&#8203;(java.lang.Long&nbsp;roomId,
                   java.time.LocalDateTime&nbsp;from,
                   java.time.LocalDateTime&nbsp;to)</code></th>
<td class="colLast">
<div class="block">This query return a list of reservation DTO based on the provided inputs.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.org.springframework.data.repository.CrudRepository">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.springframework.data.repository.CrudRepository</h3>
<code>count, delete, deleteAll, deleteAll, deleteAllById, deleteById, existsById, findById, save</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.org.springframework.data.jpa.repository.JpaRepository">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.springframework.data.jpa.repository.JpaRepository</h3>
<code>deleteAllByIdInBatch, deleteAllInBatch, deleteAllInBatch, deleteInBatch, findAll, findAll, findAll, findAll, findAllById, flush, getById, getOne, saveAll, saveAllAndFlush, saveAndFlush</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.org.springframework.data.repository.PagingAndSortingRepository">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.springframework.data.repository.PagingAndSortingRepository</h3>
<code>findAll</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.org.springframework.data.repository.query.QueryByExampleExecutor">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.springframework.data.repository.query.QueryByExampleExecutor</h3>
<code>count, exists, findAll, findOne</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="findByRoomsAndDates(java.lang.Long,java.time.LocalDateTime,java.time.LocalDateTime)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findByRoomsAndDates</h4>
<pre class="methodSignature">@Query("Select rr From ReservationRoom rr JOIN rr.room r where r.id = :roomId AND (:from BETWEEN rr.stayFrom AND rr.stayTo OR :to BETWEEN rr.stayFrom AND rr.stayTo) AND rr.status = 1")
java.util.List&lt;<a href="../model/ReservationRoom.html" title="class in com.egodoy.alten.challenge.model">ReservationRoom</a>&gt;&nbsp;findByRoomsAndDates&#8203;(@Param("roomId")
                                                    java.lang.Long&nbsp;roomId,
                                                    @Param("from")
                                                    java.time.LocalDateTime&nbsp;from,
                                                    @Param("to")
                                                    java.time.LocalDateTime&nbsp;to)</pre>
<div class="block">This query return a list of reservation DTO based on the provided inputs. The main goal of this query is to find
 other reservations of the room in mentioned between the date range provided, to prevent a new room
 reservation to overlap and existing one.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>roomId</code> - Room id requested to be booked</dd>
<dd><code>from</code> - Beginning stay date</dd>
<dd><code>to</code> - Ending stay date</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>List of existing reservation for that room between those dates if exist</dd>
</dl>
</li>
</ul>
<a id="findByIdAndRoomsAndDates(java.lang.Long,java.lang.Long,java.time.LocalDateTime,java.time.LocalDateTime)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findByIdAndRoomsAndDates</h4>
<pre class="methodSignature">@Query("Select rr From ReservationRoom rr JOIN rr.room r where r.id = :roomId AND (:from BETWEEN rr.stayFrom AND rr.stayTo OR :to BETWEEN rr.stayFrom AND rr.stayTo) AND rr.status = 1 AND rr.id != :rrId")
java.util.List&lt;<a href="../model/ReservationRoom.html" title="class in com.egodoy.alten.challenge.model">ReservationRoom</a>&gt;&nbsp;findByIdAndRoomsAndDates&#8203;(@Param("rrId")
                                                         java.lang.Long&nbsp;rrId,
                                                         @Param("roomId")
                                                         java.lang.Long&nbsp;roomId,
                                                         @Param("from")
                                                         java.time.LocalDateTime&nbsp;from,
                                                         @Param("to")
                                                         java.time.LocalDateTime&nbsp;to)</pre>
<div class="block">This query return a list of reservation DTO based on the provided inputs. The main goal of this query is to find
 other reservations of the room in mentioned between the date range provided and excluding its own record based on
 the reservationId, to prevent a modified or new room reservation to overlap and existing one.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rrId</code> - Reservation id in mentioned</dd>
<dd><code>roomId</code> - Room id requested to be booked</dd>
<dd><code>from</code> - Beginning stay date</dd>
<dd><code>to</code> - Ending stay date</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>List of existing reservation for that room between those dates if exist</dd>
</dl>
</li>
</ul>
<a id="findByReservationIdAndRoomId(java.util.UUID,java.lang.Long)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>findByReservationIdAndRoomId</h4>
<pre class="methodSignature">java.util.Optional&lt;<a href="../model/ReservationRoom.html" title="class in com.egodoy.alten.challenge.model">ReservationRoom</a>&gt;&nbsp;findByReservationIdAndRoomId&#8203;(java.util.UUID&nbsp;reservation,
                                                                 java.lang.Long&nbsp;roomId)</pre>
<div class="block">This query return a reservation room if exists based on the inputs. The main goal of this query is to retrieve a
 room that is being whether added or modified as part of a reservation modification, in case this exists, the idea
 is to grab those values that are not allowed to be modified and attach them to the new entity in question.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>reservation</code> - Reservation Id in mentioned</dd>
<dd><code>roomId</code> - Room Id in mentioned</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Reservation room record if exists</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
